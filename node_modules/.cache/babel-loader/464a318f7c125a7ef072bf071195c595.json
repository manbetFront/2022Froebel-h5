{"remainingRequest":"/Users/tanwen/project/2022Froebel-h5/node_modules/babel-loader/lib/index.js!/Users/tanwen/project/2022Froebel-h5/src/api/service.js","dependencies":[{"path":"/Users/tanwen/project/2022Froebel-h5/src/api/service.js","mtime":1671426627842},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90YW53ZW4vcHJvamVjdC8yMDIyRnJvZWJlbC1oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7IC8vIGltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKCmltcG9ydCB7IGdldFVzZXJuYW1lQnlQbGF0Zm9ybSwgaXNBcHAgfSBmcm9tICJAL2NvbW1vbi9qcy91dGlscy5qcyI7IC8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQoKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEkgLy9wcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLCAvLyB1cmwgPSBiYXNlIHVybCArIHJlcXVlc3QgdXJsCiAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAvLyBzZW5kIGNvb2tpZXMgd2hlbiBjcm9zcy1kb21haW4gcmVxdWVzdHMKICAvLyB0aW1lb3V0OiA1MDAwIC8vIHJlcXVlc3QgdGltZW91dAoKfSk7IC8vIHJlcXVlc3QgaW50ZXJjZXB0b3IKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKAovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogIC8qI19fUFVSRV9fKi8KICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNvbmZpZykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBjb25maWcuaGVhZGVyc1sicGxhdGZvcm0iXSA9ICJ2biI7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbmZpZyk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCksIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgZmFsc2UpCiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgLy8gTWVzc2FnZSh7IHR5cGU6ICJ3YXJuaW5nIiwgbWVzc2FnZTogZXJyb3IubWVzc2FnZSB9KTsKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIHJlc3BvbnNlIGludGVyY2VwdG9yCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoCi8qKgogKiBJZiB5b3Ugd2FudCB0byBnZXQgaHR0cCBpbmZvcm1hdGlvbiBzdWNoIGFzIGhlYWRlcnMgb3Igc3RhdHVzCiAqIFBsZWFzZSByZXR1cm4gIHJlc3BvbnNlID0+IHJlc3BvbnNlCiAqLwoKLyoqCiAqIERldGVybWluZSB0aGUgcmVxdWVzdCBzdGF0dXMgYnkgY3VzdG9tIGNvZGUKICogSGVyZSBpcyBqdXN0IGFuIGV4YW1wbGUKICogWW91IGNhbiBhbHNvIGp1ZGdlIHRoZSBzdGF0dXMgYnkgSFRUUCBTdGF0dXMgQ29kZQogKi8KZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8gc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCBmYWxzZSkKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICByZXR1cm4gcmVzOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKQogIC8vIE1lc3NhZ2UoeyB0eXBlOid3YXJuaW5nJyxtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"sources":["/Users/tanwen/project/2022Froebel-h5/src/api/service.js"],"names":["axios","getUsernameByPlatform","isApp","service","create","baseURL","process","env","VUE_APP_BASE_API","interceptors","request","use","config","headers","error","console","log","Promise","reject","response","res","data"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,SAASC,qBAAT,EAAgCC,KAAhC,QAA6C,sBAA7C,C,CAEA;;AACA,IAAMC,OAAO,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC3BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADM,CACY;AACvC;AACA;;AAH2B,CAAb,CAAhB,C,CAMA;;AACAL,OAAO,CAACM,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AACEA,YAAAA,MAAM,CAACC,OAAP,CAAe,UAAf,IAA6B,IAA7B;AADF,6CAESD,MAFT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADF;;AAAA;AAAA;AAAA;AAAA,KAKE,UAACE,KAAD,EAAW;AACT;AACA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAHS,CAGW;AACpB;;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAXH,E,CAcA;;AACAX,OAAO,CAACM,YAAR,CAAqBU,QAArB,CAA8BR,GAA9B;AACE;;;;;AAKA;;;;;AAKA,UAACQ,QAAD,EAAc;AACZ;AACA,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB;AACA,SAAOD,GAAP;AACD,CAfH,EAgBE,UAACN,KAAD,EAAW;AACT;AACA;AACA,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CApBH;AAuBA,eAAeX,OAAf","sourcesContent":["import axios from \"axios\";\n// import store from \"@/store\";\nimport { Message } from \"element-ui\";\nimport { getUsernameByPlatform, isApp } from \"@/common/js/utils.js\";\n\n// create an axios instance\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API, //process.env.VUE_APP_BASE_API, // url = base url + request url\n  // withCredentials: true, // send cookies when cross-domain requests\n  // timeout: 5000 // request timeout\n});\n\n// request interceptor\nservice.interceptors.request.use(\n  async (config) => {\n    config.headers[\"platform\"] = \"vn\";\n    return config;\n  },\n  (error) => {\n    // store.commit('setIsLoading', false)\n    // do something with request error\n    console.log(error); // for debug\n    // Message({ type: \"warning\", message: error.message });\n    return Promise.reject(error);\n  }\n);\n\n// response interceptor\nservice.interceptors.response.use(\n  /**\n   * If you want to get http information such as headers or status\n   * Please return  response => response\n   */\n\n  /**\n   * Determine the request status by custom code\n   * Here is just an example\n   * You can also judge the status by HTTP Status Code\n   */\n  (response) => {\n    // store.commit('setIsLoading', false)\n    const res = response.data;\n    return res;\n  },\n  (error) => {\n    // store.commit('setIsLoading', false)\n    // Message({ type:'warning',message: error.message });\n    return Promise.reject(error);\n  }\n);\n\nexport default service;\n"]}]}