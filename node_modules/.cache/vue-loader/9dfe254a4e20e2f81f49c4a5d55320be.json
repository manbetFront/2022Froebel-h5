{"remainingRequest":"/Users/tanwen/project/2022Froebel-h5/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tanwen/project/2022Froebel-h5/src/pages/goldegg-draw/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tanwen/project/2022Froebel-h5/src/pages/goldegg-draw/index.vue","mtime":1670398266438},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tanwen/project/2022Froebel-h5/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdvbGRlZ2dJbmZvLCBnb2xkZWdnTG90dGVyeSB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc2VudjogIiIsCiAgICAgIGlzU2hvdzogdHJ1ZSwKICAgICAgc2hvd0RyYXc6IGZhbHNlLAogICAgICBsaXN0ZGF0YToge30sCiAgICAgIGNvbmxpc3Q6IHt9LAogICAgICBvdmVybW9kZWw6IGZhbHNlLAogICAgICB1aWQ6ICIiLAogICAgICBwbGF0Zm9ybTogIiIsCiAgICAgIGxhbmc6ICIiLAogICAgfTsKICB9LAoKICBhc3luYyBtb3VudGVkKCkgewogICAgLy8g5YWI5Yik5pat5piv5LiN5piv5b6u5L+h56uv5omT5byA55qECiAgICBpZiAoLyhtaWNyb21lc3NlbmdlcikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgIC8vIGFsZXJ0KCLlvq7kv6EiKTsKICAgICAgdGhpcy5pc2VudiA9ICJ3ZWNoYXQiOwogICAgfSBlbHNlIHsKICAgICAgLy8gYWxlcnQoIuaZrumAmua1j+iniOWZqCIpOwogICAgICAvLyDliKTmlq1oNei/mOaYr3BjIHRydWXlsLHmmK9oNQogICAgICBsZXQgY2xpZW50ID0gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KAogICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQKICAgICAgKTsKICAgICAgaWYgKGNsaWVudCkgewogICAgICAgIHRoaXMuaXNlbnYgPSAiaDUiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNlbnYgPSAicGMiOwogICAgICB9CiAgICB9CgogICAgbGV0IHVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICBpZiAodXJsLmxlbmd0aCA+IDApIHsKICAgICAgLy/liKTmlq3mmK/lkKbmkLrluKblj4LmlbAKICAgICAgbGV0IHBhcmFtcyA9IHt9OwogICAgICBpZiAodXJsLmluZGV4T2YoIj8iKSAhPSAtMSkgewogICAgICAgIGxldCBzdHIgPSB1cmwuc3Vic3RyKHVybC5pbmRleE9mKCI/IikgKyAxKTsKICAgICAgICBsZXQgc3RycyA9IHN0ci5zcGxpdCgiJiIpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Rycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgcGFyYW1zW3N0cnNbaV0uc3BsaXQoIj0iKVswXV0gPSBkZWNvZGVVUkkoc3Ryc1tpXS5zcGxpdCgiPSIpWzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coInBhcmFtcyIsIHBhcmFtcyk7CiAgICAgIGNvbnN0IHsgdWlkLCBwbGF0Zm9ybSwgbGFuZyB9ID0gcGFyYW1zOwogICAgICB0aGlzLnVpZCA9IHVpZDsKICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtOwogICAgICB0aGlzLmxhbmcgPSBsYW5nOwogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJsYW5nIiwgbGFuZyk7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInBsYXRmb3JtIiwgcGxhdGZvcm0pOwogICAgICB0aGlzLiRpMThuLmxvY2FsZSA9IGxhbmc7CgogICAgICBhd2FpdCB0aGlzLmdldGluZm8odWlkKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldGluZm8odWlkKSB7CiAgICAgIGF3YWl0IGdvbGRlZ2dJbmZvKHsKICAgICAgICB1c2VyX2lkOiB1aWQsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMubGlzdGRhdGEgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZygi5rWL6K+Vb3LmraPlvI8iLCBwcm9jZXNzLmVudiwgdGhpcy5wbGF0Zm9ybSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWFs+mXreW8ueeqlwogICAgY2xpY2t0ZXN0KCkgewogICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHsgc2hvdzogMSB9LCAiKiIpOwogICAgfSwKICAgIC8vIOeCueWHu+mHkeibiwogICAgYXN5bmMgb3BlbkRyYXcoKSB7CiAgICAgIC8vIHRoaXMuc2hvd0RyYXcgPSB0cnVlOwogICAgICBpZiAodGhpcy5saXN0ZGF0YS5jYW5fbG90dGVyeV90aW1lcyA9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuaXNlbnYgPT0gImg1IikgewogICAgICAgICAgdGhpcy5vdmVybW9kZWwgPSB0cnVlOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMub3Zlcm1vZGVsID0gZmFsc2U7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6IHRoaXMuJHQoImVnZ292ZXIiKSwgdHlwZTogIndhcm5pbmciIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYXdhaXQgZ29sZGVnZ0xvdHRlcnkoeyB1c2VyX2lkOiB0aGlzLnVpZCB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICAvLyBsZXQgcGFyYW1zID0gewogICAgICAgIC8vICAgYXdhcmRfdHlwZTogMywKICAgICAgICAvLyAgIGF3YXJkX2Ftb3VudDogNSwKICAgICAgICAvLyAgIGNvbG9yX2Zsb3dfbXVsdGlwbGU6IDYsCiAgICAgICAgLy8gICBhd2FyZF9hbW91bnQ6IDcsCiAgICAgICAgLy8gfTsKICAgICAgICAvLyB0aGlzLmNvbmxpc3QgPSBwYXJhbXM7CiAgICAgICAgLy8gdGhpcy5zaG93RHJhdyA9IHRydWU7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5jb25saXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnNob3dEcmF3ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBjaGFuZ2VEcmV3KCkgewogICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHsgZ29EZXRhaWw6IHRydWUgfSwgIioiKTsKICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIpIHsKICAgICAgLy8gICBpZiAodGhpcy5wbGF0Zm9ybSA9PSAidm4iKSB7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygxMTEpOwogICAgICAvLyAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cHM6Ly9tLm14dmlldG5hbS5jb20vd2VsZmFyZSI7CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKDIyMik7CiAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJodHRwczovL20ubHVja3lnYW1pbmc4LmNvbS93ZWxmYXJlIjsKICAgICAgLy8gICB9CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgaWYgKHRoaXMucGxhdGZvcm0gPT0gInZuIikgewogICAgICAvLyAgICAgY29uc29sZS5sb2coMzMzKTsKICAgICAgLy8gICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImh0dHBzOi8vbS5iYmx5aS5jb20vd2VsZmFyZSI7CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKDQ0NCk7CiAgICAgIC8vICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJodHRwczovL20tZ29sZC1waC5rZ3RpbmRvay5jb20vd2VsZmFyZSI7CiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/goldegg-draw","sourcesContent":["<template>\n  <div class=\"dialog-wrap\">\n    <div class=\"dialog-cover\" @click=\"clicktest\"></div>\n    <transition name=\"opacity\">\n      <div class=\"model_box\">\n        <div class=\"tree_box\" v-if=\"isenv == 'h5' && !showDraw\">\n          <img\n            v-if=\"lang == 'vi'\"\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_vn_pc@2x.png\"\n          />\n          <img\n            v-else-if=\"lang == 'EN'\"\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_lg_h5@2x.png\"\n          />\n          <img\n            v-else\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_h5@2x.png\"\n          />\n\n          <img\n            @click=\"openDraw\"\n            class=\"gift1\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift2\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift3\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift4\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img class=\"btn\" src=\"../../common/img/btn_yuandan_h5@2x.png\" />\n          <div class=\"residue vi\" v-if=\"lang == 'vi'\">\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"residue vi\" v-else-if=\"lang == 'EN'\">\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"residue\" v-else>\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"tips\">\n            {{ $t(\"singledep\") }}{{ listdata.deposit_amount\n            }}{{ $t(\"goldchance\") }}<br />{{ $t(\"getaward\") }}\n          </div>\n          <img\n            @click=\"clicktest\"\n            class=\"close\"\n            src=\"../../common/img/icon_close@2x.png\"\n          />\n        </div>\n        <div class=\"congrats\" v-if=\"isenv == 'h5' && showDraw\">\n          <img\n            class=\"wins\"\n            v-if=\"lang == 'vi'\"\n            src=\"../../common/img/bg_yd_vn_pc@2x.png\"\n          />\n          <img\n            class=\"wins\"\n            v-else-if=\"lang == 'EN'\"\n            src=\"../../common/img/bg_yd_lg_h5@2x.png\"\n          />\n          <img class=\"wins\" v-else src=\"../../common/img/bg_yd_h5@2x.png\" />\n          <img class=\"giftbg\" src=\"../../common/img/img_fangshe_pc@2x.png\" />\n          <div class=\"award\" v-if=\"conlist.award_type == 3\">\n            {{ $t(\"incentive\") }}：{{ conlist.award_amount }}{{ $t(\"handsel\")\n            }}<br />\n            <div class=\"one\">\n              ({{ conlist.color_flow_multiple }}{{ $t(\"threeflow\") }})\n            </div>\n          </div>\n          <div class=\"award\" v-if=\"conlist.award_type == 2\">\n            {{ $t(\"incentive\") }}：{{ conlist.award_amount }}{{ $t(\"failgold\")\n            }}<br />\n          </div>\n          <img class=\"giftbox\" src=\"../../common/img/img_liwu_yd_h5@2x.png\" />\n          <img\n            v-if=\"lang == 'vi'\"\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_vn_pc@2x.png\"\n          />\n          <img\n            v-else-if=\"lang == 'EN'\"\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_vn_h5@2x.png\"\n          />\n          <img\n            v-else\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_h5@2x.png\"\n          />\n          <img\n            @click=\"clicktest\"\n            class=\"close\"\n            src=\"../../common/img/icon_close@2x.png\"\n          />\n        </div>\n\n        <div class=\"pctree_box\" v-if=\"isenv == 'pc' && !showDraw\">\n          <img\n            v-if=\"lang == 'vi'\"\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_vn_pc@2x.png\"\n          />\n          <img\n            v-else-if=\"lang == 'EN'\"\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_lg_h5@2x.png\"\n          />\n          <img\n            v-else\n            class=\"tree\"\n            src=\"../../common/img/bg_yuandan_h5@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift1\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift2\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift3\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img\n            @click=\"openDraw\"\n            class=\"gift4\"\n            src=\"../../common/img/img_egg@2x.png\"\n          />\n          <img class=\"btn\" src=\"../../common/img/btn_yuandan_h5@2x.png\" />\n\n          <div class=\"residue vi\" v-if=\"lang == 'vi'\">\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"residue vi\" v-else-if=\"lang == 'EN'\">\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"residue\" v-else>\n            {{ $t(\"opengold\") }}：{{ listdata.can_lottery_times }}\n          </div>\n          <div class=\"tips\">\n            {{ $t(\"singledep\") }}{{ listdata.deposit_amount\n            }}{{ $t(\"goldchance\") }}<br />{{ $t(\"getaward\") }}\n          </div>\n          <img\n            @click=\"clicktest\"\n            class=\"close\"\n            src=\"../../common/img/icon_close@2x.png\"\n          />\n        </div>\n        <div class=\"pccongrats\" v-if=\"isenv == 'pc' && showDraw\">\n          <img\n            class=\"wins\"\n            v-if=\"lang == 'vi'\"\n            src=\"../../common/img/bg_yd_vn_pc@2x.png\"\n          />\n          <img\n            class=\"wins\"\n            v-else-if=\"lang == 'EN'\"\n            src=\"../../common/img/bg_yd_lg_h5@2x.png\"\n          />\n\n          <img class=\"wins\" v-else src=\"../../common/img/bg_yd_h5@2x.png\" />\n          <img class=\"giftbg\" src=\"../../common/img/img_fangshe_pc@2x.png\" />\n          <div class=\"award\" v-if=\"conlist.award_type == 3\">\n            {{ $t(\"incentive\") }}：{{ conlist.award_amount }}{{ $t(\"handsel\")\n            }}<br />\n            <div class=\"one\">\n              ({{ conlist.color_flow_multiple }}{{ $t(\"threeflow\") }})\n            </div>\n          </div>\n          <div class=\"award\" v-if=\"conlist.award_type == 2\">\n            {{ $t(\"incentive\") }}：{{ conlist.award_amount }}{{ $t(\"failgold\")\n            }}<br />\n          </div>\n          <img class=\"giftbox\" src=\"../../common/img/img_liwu_yd_h5@2x.png\" />\n          <img\n            v-if=\"lang == 'vi'\"\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_vn_pc@2x.png\"\n          />\n          <img\n            v-else-if=\"lang == 'EN'\"\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_vn_h5@2x.png\"\n          />\n          <img\n            v-else\n            @click=\"changeDrew\"\n            class=\"give\"\n            src=\"../../common/img/btn_get_yd_h5@2x.png\"\n          />\n          <img\n            @click=\"clicktest\"\n            class=\"close\"\n            src=\"../../common/img/icon_close@2x.png\"\n          />\n        </div>\n      </div>\n    </transition>\n    <div class=\"model_box\" v-show=\"overmodel\">\n      <div class=\"over\">{{ $t(\"eggover\") }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { goldeggInfo, goldeggLottery } from \"@/api\";\nexport default {\n  data() {\n    return {\n      isenv: \"\",\n      isShow: true,\n      showDraw: false,\n      listdata: {},\n      conlist: {},\n      overmodel: false,\n      uid: \"\",\n      platform: \"\",\n      lang: \"\",\n    };\n  },\n\n  async mounted() {\n    // 先判断是不是微信端打开的\n    if (/(micromessenger)/i.test(navigator.userAgent)) {\n      // alert(\"微信\");\n      this.isenv = \"wechat\";\n    } else {\n      // alert(\"普通浏览器\");\n      // 判断h5还是pc true就是h5\n      let client = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      );\n      if (client) {\n        this.isenv = \"h5\";\n      } else {\n        this.isenv = \"pc\";\n      }\n    }\n\n    let url = location.href;\n    if (url.length > 0) {\n      //判断是否携带参数\n      let params = {};\n      if (url.indexOf(\"?\") != -1) {\n        let str = url.substr(url.indexOf(\"?\") + 1);\n        let strs = str.split(\"&\");\n        for (let i = 0; i < strs.length; i++) {\n          params[strs[i].split(\"=\")[0]] = decodeURI(strs[i].split(\"=\")[1]);\n        }\n      }\n      console.log(\"params\", params);\n      const { uid, platform, lang } = params;\n      this.uid = uid;\n      this.platform = platform;\n      this.lang = lang;\n      sessionStorage.setItem(\"lang\", lang);\n      sessionStorage.setItem(\"platform\", platform);\n      this.$i18n.locale = lang;\n\n      await this.getinfo(uid);\n    }\n  },\n  methods: {\n    async getinfo(uid) {\n      await goldeggInfo({\n        user_id: uid,\n      }).then((res) => {\n        this.listdata = res.data;\n        console.log(\"测试or正式\", process.env, this.platform);\n      });\n    },\n    // 关闭弹窗\n    clicktest() {\n      window.parent.postMessage({ show: 1 }, \"*\");\n    },\n    // 点击金蛋\n    async openDraw() {\n      // this.showDraw = true;\n      if (this.listdata.can_lottery_times == 0) {\n        if (this.isenv == \"h5\") {\n          this.overmodel = true;\n          setTimeout(() => {\n            this.overmodel = false;\n          }, 1000);\n        } else {\n          this.$message({ message: this.$t(\"eggover\"), type: \"warning\" });\n        }\n        return;\n      }\n      await goldeggLottery({ user_id: this.uid }).then((res) => {\n        // let params = {\n        //   award_type: 3,\n        //   award_amount: 5,\n        //   color_flow_multiple: 6,\n        //   award_amount: 7,\n        // };\n        // this.conlist = params;\n        // this.showDraw = true;\n        if (res.code == 200) {\n          this.conlist = res.data;\n          this.showDraw = true;\n        }\n      });\n    },\n\n    changeDrew() {\n      window.parent.postMessage({ goDetail: true }, \"*\");\n      // if (process.env.NODE_ENV === \"production\") {\n      //   if (this.platform == \"vn\") {\n      //     console.log(111);\n      //     window.location.href = \"https://m.mxvietnam.com/welfare\";\n      //   } else {\n      //     console.log(222);\n      //     window.location.href = \"https://m.luckygaming8.com/welfare\";\n      //   }\n      // } else {\n      //   if (this.platform == \"vn\") {\n      //     console.log(333);\n      //     window.location.href = \"https://m.bblyi.com/welfare\";\n      //   } else {\n      //     console.log(444);\n      //     window.location.href = \"https://m-gold-ph.kgtindok.com/welfare\";\n      //   }\n      // }\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\nr(designpx )\n  $rem = 37.5px;\n  return (designpx / $rem )rem\n\nr2(val){\n  return (val/16)rem\n}\n\n .dialog-cover {\n  background #000\n  opacity 0.7\n  position fixed\n  z-index 999\n  top 0\n  left 0\n  bottom 0\n  right 0\n}\n.over{\n  font-size:r(14);\n  color:rgba(255,255,255,0.9);\n  padding:r(10) r(20);\n  border-radius:r(10);\n  background:rgba(0,0,0,0.7)\n}\n\n  .model_box{\n    // font-size:50px;\n    position: fixed;\n    z-index: 9999;\n    background:transparent;\n    width:100%;\n    height:100%;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n    overflow:auto;\n    display:flex;\n    justify-content center\n    align-items center\n\n    .pctree_box{\n      position:relative;\n      width:r2(616);\n      height:r2(814);\n      display:flex;\n      justify-content:center;\n      margin:0 auto;\n      margin-top:-2%;\n      .tree{\n        width:auto;\n        height:100%;\n      }\n      .gift1,.gift2,.gift3,.gift4,.gift5{\n        position:absolute;\n        width:r2(170);\n        height:r2(170);\n      }\n      .gift1{\n        top:39.5%;\n        left:23%;\n      }\n      .gift2{\n        bottom:39.5%;\n        right:22.2%;\n      }\n      .gift3{\n        top:66%;\n        left:23%\n      }\n      .gift4{\n        top:66%;\n        right:22.2%\n      }\n      .btn{\n        width:r2(327);\n        position:absolute;\n        bottom:r2(-32);\n      }\n      .residue{\n        font-size:r2(20);\n        color: #681D1D;\n        position:absolute;\n        bottom:r2(12);\n        width:r2(290);\n        text-align:center;\n      }\n      .vi{\n        bottom:r2(0)\n      }\n      .tips{\n        font-size:r2(16);\n        color:#fff;\n        position:absolute;\n        bottom:r2(-100);\n        text-align:center;\n        line-height:r2(22)\n      }\n      .close{\n        width:r2(36);\n        height:r2(36);\n        position:absolute;\n        top:0;\n        right:0;\n      }\n    }\n    .pccongrats{\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      width:r2(500);\n      height:r2(660);\n      position:relative;\n      .wins{\n        width:100%;\n        height:auto;\n        position:absolute;\n      }\n      .giftbg{\n        width:r2(340)\n        height:auto\n        position:absolute\n        margin-top:r2(200)\n      }\n      .award{\n        position:absolute;\n        font-size:r2(28)\n        color:#FFF4D7;\n        top:r2(240);\n        text-align:center;\n        width:80%;\n        .one{\n          font-size:r2(13);\n          margin-top: r2(6);\n        }\n      }\n      .giftbox{\n        position:absolute;\n        width:r2(200);\n        height:r2(200);\n        left:r2(150);\n        top: r2(310)\n      }\n      .give{\n        position:absolute;\n        width:r2(259)\n        height:auto;\n        bottom:r2(35)\n      }\n      .close{\n        width:r2(36);\n        height:r2(36);\n        position:absolute;\n        bottom:r2(-50)\n      }\n    }\n\n\n\n\n    .tree_box{\n      position:relative;\n      width:r(337);\n      height:r(447);\n      display:flex;\n      justify-content:center;\n      align-items center;\n      .tree{\n        width:100%;\n        height:auto;\n        margin-top:-25%;\n      }\n      .gift1,.gift2,.gift3,.gift4,.gift5{\n        position:absolute;\n        width:r(95);\n        height:r(95);\n      }\n      .gift1{\n        top:r(135);\n        left:r(75)\n      }\n      .gift2{\n        top:r(135);\n        right:r(75);\n      }\n      .gift3{\n        top:r(250);\n        left:r(75)\n      }\n      .gift4{\n        top:r(250);\n        right:r(75)\n      }\n      .btn{\n        width:r(182);\n        position:absolute;\n        bottom:r(28);\n      }\n      .residue{\n        font-size:r(14);\n        color: #681D1D;\n        position:absolute;\n        bottom:r(52);\n        width:r(150);\n        text-align:center;\n      }\n      .vi{\n        bottom:r(45);\n      }\n      .tips{\n        font-size:r(12);\n        color:#fff;\n        position:absolute;\n        top:r(420);\n        text-align:center;\n        line-height:r(15)\n      }\n      .close{\n        width:r(28);\n        height:r(28);\n        position:absolute;\n        top:r(480);\n      }\n    }\n\n    .congrats{\n      display:flex;\n      align-items:center;\n      justify-content:center;\n      width:r(300);\n      height:r(460);\n      position:relative;\n      .wins{\n        width:100%;\n        height:auto;\n        position:absolute;\n      }\n      .giftbg{\n        width:r(200)\n        height:auto\n        position:absolute\n        margin-top:r(120)\n      }\n      .award{\n        position:absolute;\n        font-size:r(18)\n        color:#FFF4D7\n        top:r(175)\n        text-align:center;\n        width:80%;\n        .one{\n          font-size:r(13);\n          margin-top: r(6);\n        }\n      }\n      .giftbox{\n        position:absolute;\n        width:r(110);\n        height:r(110);\n        left:r(95);\n        top: r(230)\n      }\n      .give{\n        position:absolute;\n        width:r(155)\n        height:auto;\n        bottom:r(50)\n      }\n      .close{\n        width:r(28);\n        height:r(28);\n        position:absolute;\n        bottom:r(-10);\n      }\n    }\n  }\n</style>\n"]}]}