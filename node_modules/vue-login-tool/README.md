# vue-login-tool
 
## 依赖安装
<pre>
npm i vue-login-tool vuejs-dialog
</pre>

## 使用

### script:

<pre>
import vueLoginTool from 'vue-login-tool'
import Vue from 'vue'
Vue.use(vueLoginTool)

export default {
  data(){
    return {
      userList:[
        {
          type: 0, // 0 表示测试环境账号，1表示正式环境账号
          username: 'aaa001',
          encryptUsername: `Qy2yOFaQTra1ecSrhCw5ohStafbMRva0dhLs4b3kNJeCh9bqXpwbjngRi3a34wmfkEm6qw%2BtJgaqQrO1WuxpVeEMfKi%2BjHfrp%2B6XJWH1LCtVbUmlC8PX4QBnO58L%2B0eASMf6b3QthRnVWpBNebJabwnazM3sgbBf77vVlGH5wac%3D&type=0&lv=4&method=DO%2Flpt45572HJ7tuzLoroOc3T%2F%2BXB2URPsbeREZhu%2BSYQ7y2%2F2VSuYSfBakF3QzmE9JI1Q4QGYmojwGVq6b09IeKw%2B%2Bclp2ol0brotfRpSzQUcsoIBoZ2CdOuJpyPmoctd7e04yOL3F0Md%2F6ykSSdhDfDEiZrwO%2Ba4mBp6MLq2%2BbGBuLiRJUXssgRkf6nAD1ea9SBjn2WpP3B0TxvF4mIuOq8W1rFnQbifBAaZkg9Z4gnaiBpL3DMNoWUeZUaEP%2BJ6sgyK9aKnmLGLvWp6g43cKjhzF6o%2BeujMhH735fJV3AEwVsxtjlK46tR%2FJIoCoaO2Fjoh3nhaTB79HnrMKdDg%3D%3D`
        },
        {
          type: 1,
          username: 'yili001',
          encryptUsername: `pf8Toi1qTUH9n9fYTQub7zb4fsfG8VVFf7tYV2VvbwEUJIOsBCns6wdwvOguKSEg8WWWxYK%2BNAlRvSoCNb8U8otGEG3kp5ZLCATIIgs3IWHjNU2t7tgCkSGBMqFWA1hx6NvDHn8LVFIh223rsHBZMF1DhLwNNKqIKGmf5NvICCA%3D`
        },
      ]
    }
  }
  computed:{
    /*
      envTypeNum为环境变量字段，对应环境显示对应环境账户列表。
      envTypeNum为0表示测试环境
      envTypeNum为1表示正式环境
      envTypeNum为2表示开发环境
    */
    envTypeNum(){
      let res = 2 // 默认为开发环境
      if(process.env.NODE_ENV === 'production'){
        // 测试环境  注意：环境变量是自定义的，每个客户端定义的环境变量可能都不一样，请确保你在此处是在判断当前的环境为测试环境。
        if(process.env.VUE_APP_TITLE === 'TEST'){
          res = 0
        }else{
          // 正式环境
          res = 1
        }
      }
      return res
    }
  }
}
</pre>

### template:

<pre>
&lt;vue-login-tool  :env-type-num="envTypeNum"  /&gt;
or
&lt;vue-login-tool :env-type-num="envTypeNum" :is-fixed="true" :is-show-always="true" :user-list="userList" /&gt;
</pre>

#### 考虑再三，还是加上了一个判断环境变量的必传字段 envTypeNum，对应环境显示对应环境账户列表，毕竟用测试账号去测试正式后台接口，报错信息不会告诉你："您正在用测试环境账号测试正式环境后台接口"，反正都是为了你好多喝热水。

#### 插件内置了一些测试与正式账号，使用者可以传值 userList 覆盖默认值。

#### 该插件在被iframe嵌套时默认隐藏， 可通过 isShowAlways 字段设置为true始终显示

#### 该插件默认会固定在页面在左上角供测试专用， 可通过 isFixed 字段设置为false正常排版

## 贡献

### 我们就不搞复杂了，任何人都可以基于此项目二次开发以满足业务需求，步骤如下：

1. npm install -g @vue/cli-service-global
2. vue serve test.vue
3. 开搞.
4. 搞完 dd 我，我审核统一发布




